
## 자바와 절차적 구조적 프로그래밍

### 자바 프로그램의 개발과 구동

자바의 구동 방법을 아는 것은 매우 중요하다.
자바는 JVM이라는 Java Virtual Machine이라는 가상 기계위에서 동작한다.

JDK - 자바 개발 도구: JVM용 소프트웨어 개발 도구 (자바 소스 컴파일러 javac.exe 포함)
JRE - 자바 실행 환경: JVM용 OS (자바 프로그램 실행기인 java.exe 포함)
JVM - 자바 가상 기계: 가상의 컴퓨터

자바는 자바 개발 동구인 JDK를 이용해 개발된 프로그램은 JRE에 의해 가상의 컴퓨터인 JVM상에서 구동된다.
JVM용으로 프로그램을 작성하면 JVM이 머신과 중재자가 되어서 각 플랫폼에서 구동하는데 아무 문제가 없게끔 만들어준다.
(CPU 아키텍처에 기계어가 다르기 때문에 기계어, 어셈블, C언어 같은 경우 CPU마다 컴파일러가 따로 존재하고 각 CPU에 맞게 컴파일해야한다.)
자바는 "Write Once, Run Anywhere" 철학을 가지고 있다.

#### 메모리

그림 2-2

프로그램 메모리는 "코드 실행 영역", "데이터 저장 영역"으로 나누어진다.

그림 2-3

이때 객체 지향 프로그램에서는 데이터 "데이터 저장 영역"을 "스태틱(static) 영역", "스택(Stack) 영역", "힙(Heap) 영역"으로 나누어진다.

스태틱 영역: 클래스의 놀이터
스택 영역: 메서드의 놀이터
힙 영역: 인스턴스의 놀이터

이때 스태틱, 스택, 힙 영역이 T형태로 보이기에 간략하게 T 메모리 구조라고 칭하겠다.

#### 다시 보는 Main() 메서드: 메서드 스택 프레임

아래 java소스가 실행될떄 T 메모리가 어떻게 변화하는지 살펴보자

```java
public class Start {
  public static void main(String[] args) {
    System.out.println('Hello World!!');
  }
}
```
실행 순서
1. JRE는 먼저 프로그램 안에 main() 메서드가 있는지 확인한다.
2. main()메소드가 확인되면 JVM을 전원을 넣어 부팅시킨다.
3. 부팅된 JVM은 목적파일을 받아 그 목적 파일을 실행한다.
(1~3까지가 전처리 과정이라고 부른다.)
4. 자바 모든 프로그램에 반드시 포함되는 패키지가 java.lang 패키지인데 이 패키지를 제일 먼저 "스태틱 영역"에 가져다 놓는다.
5. 임포트 패키지와 개발자가 작성한 모든 클래스를 "스태틱 영역"에 가져다 놓는다.
6. 클래스 여는 중괄호를 제외하고 모든 여는 중괄호는 스택 영역에 스택 프레임이 생긴다. main()의 스택프레임 생성
7. main() 스택프레임에 args변수를 공간을 확보한다.
   8. system.out.println() 코드가 실행되면서 GPU에 화면 출력을 의뢰한다.
9. main()에 닫는 중괄호를 만나면 main()스택프레임이 소멸된다.
10.  main()메소드가 소멸되면 JRE는 JVM을 종료시키고 JRE도 자체적으로 운영체제 상의 메모리에서 사라진다.
